window.isRtl=window.Helpers.isRtl();window.isDarkStyle=window.Helpers.isDarkStyle();let g,y=!1;document.getElementById("layout-menu")&&(y=document.getElementById("layout-menu").classList.contains("menu-horizontal"));(function(){var C,S;setTimeout(function(){window.Helpers.initCustomOptionCheck()},1e3),typeof Waves<"u"&&(Waves.init(),Waves.attach(".btn[class*='btn-']:not([class*='btn-outline-']):not([class*='btn-label-'])",["waves-light"]),Waves.attach("[class*='btn-outline-']"),Waves.attach("[class*='btn-label-']"),Waves.attach(".pagination .page-item .page-link")),document.querySelectorAll("#layout-menu").forEach(function(e){g=new Menu(e,{orientation:y?"horizontal":"vertical",closeChildren:!!y,showDropdownOnHover:localStorage.getItem("templateCustomizer-"+templateName+"--ShowDropdownOnHover")?localStorage.getItem("templateCustomizer-"+templateName+"--ShowDropdownOnHover")==="true":window.templateCustomizer!==void 0?window.templateCustomizer.settings.defaultShowDropdownOnHover:!0}),window.Helpers.scrollToActive(!1),window.Helpers.mainMenu=g}),document.querySelectorAll(".layout-menu-toggle").forEach(e=>{e.addEventListener("click",l=>{if(l.preventDefault(),window.Helpers.toggleCollapsed(),config.enableMenuLocalStorage&&!window.Helpers.isSmallScreen())try{localStorage.setItem("templateCustomizer-"+templateName+"--LayoutCollapsed",String(window.Helpers.isCollapsed()));let c=document.querySelector(".template-customizer-layouts-options");if(c){let r=window.Helpers.isCollapsed()?"collapsed":"expanded";c.querySelector(`input[value="${r}"]`).click()}}catch{}})}),window.Helpers.swipeIn(".drag-target",function(e){window.Helpers.setCollapsed(!1)}),window.Helpers.swipeOut("#layout-menu",function(e){window.Helpers.isSmallScreen()&&window.Helpers.setCollapsed(!0)});let i=document.getElementsByClassName("menu-inner"),m=document.getElementsByClassName("menu-inner-shadow")[0];i.length>0&&m&&i[0].addEventListener("ps-scroll-y",function(){this.querySelector(".ps__thumb-y").offsetTop?m.style.display="block":m.style.display="none"});function f(e){e==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?e="dark":e="light")}let p=document.querySelector(".dropdown-style-switcher"),w=localStorage.getItem("templateCustomizer-"+templateName+"--Style")||(((S=(C=window.templateCustomizer)==null?void 0:C.settings)==null?void 0:S.defaultStyle)??"light");//!if there is no Customizer then use default style as light
if(window.templateCustomizer&&p){[].slice.call(p.children[1].querySelectorAll(".dropdown-item")).forEach(function(c){c.addEventListener("click",function(){let r=this.getAttribute("data-theme");r==="light"?window.templateCustomizer.setStyle("light"):r==="dark"?window.templateCustomizer.setStyle("dark"):window.templateCustomizer.setStyle("system")})});const l=p.querySelector("i");w==="light"?(l.classList.add("ti-sun"),new bootstrap.Tooltip(l,{title:"Light Mode",fallbackPlacements:["bottom"]})):w==="dark"?(l.classList.add("ti-moon"),new bootstrap.Tooltip(l,{title:"Dark Mode",fallbackPlacements:["bottom"]})):(l.classList.add("ti-device-desktop"),new bootstrap.Tooltip(l,{title:"System Mode",fallbackPlacements:["bottom"]}))}f(w);let s=document.getElementsByClassName("dropdown-language");if(s.length){let c=function(r){r==="rtl"?localStorage.getItem("templateCustomizer-"+templateName+"--Rtl")!=="true"&&window.templateCustomizer&&window.templateCustomizer.setRtl(!0):localStorage.getItem("templateCustomizer-"+templateName+"--Rtl")==="true"&&window.templateCustomizer&&window.templateCustomizer.setRtl(!1)};var x=c;let e=s[0].querySelectorAll(".dropdown-item");const l=s[0].querySelector(".dropdown-item.active");c(l.dataset.textDirection);for(let r=0;r<e.length;r++)e[r].addEventListener("click",function(){let L=this.getAttribute("data-text-direction");window.templateCustomizer.setLang(this.getAttribute("data-language")),c(L)})}setTimeout(function(){let e=document.querySelector(".template-customizer-reset-btn");e&&(e.onclick=function(){window.location.href=baseUrl+"lang/en"})},1500);const o=document.querySelector(".dropdown-notifications-all"),t=document.querySelectorAll(".dropdown-notifications-read");o&&o.addEventListener("click",e=>{t.forEach(l=>{l.closest(".dropdown-notifications-item").classList.add("marked-as-read")})}),t&&t.forEach(e=>{e.addEventListener("click",l=>{e.closest(".dropdown-notifications-item").classList.toggle("marked-as-read")})}),document.querySelectorAll(".dropdown-notifications-archive").forEach(e=>{e.addEventListener("click",l=>{e.closest(".dropdown-notifications-item").remove()})}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(e){return new bootstrap.Tooltip(e)});const u=function(e){e.type=="show.bs.collapse"||e.type=="show.bs.collapse"?e.target.closest(".accordion-item").classList.add("active"):e.target.closest(".accordion-item").classList.remove("active")};[].slice.call(document.querySelectorAll(".accordion")).map(function(e){e.addEventListener("show.bs.collapse",u),e.addEventListener("hide.bs.collapse",u)}),window.Helpers.setAutoUpdate(!0),window.Helpers.initPasswordToggle(),window.Helpers.initSpeechToText(),window.Helpers.initNavbarDropdownScrollbar();let h=document.querySelector("[data-template^='horizontal-menu']");if(h&&(window.innerWidth<window.Helpers.LAYOUT_BREAKPOINT?window.Helpers.setNavbarFixed("fixed"):window.Helpers.setNavbarFixed("")),window.addEventListener("resize",function(e){window.innerWidth>=window.Helpers.LAYOUT_BREAKPOINT&&document.querySelector(".search-input-wrapper")&&(document.querySelector(".search-input-wrapper").classList.add("d-none"),document.querySelector(".search-input").value=""),h&&(window.innerWidth<window.Helpers.LAYOUT_BREAKPOINT?window.Helpers.setNavbarFixed("fixed"):window.Helpers.setNavbarFixed(""),setTimeout(function(){window.innerWidth<window.Helpers.LAYOUT_BREAKPOINT?document.getElementById("layout-menu")&&document.getElementById("layout-menu").classList.contains("menu-horizontal")&&g.switchMenu("vertical"):document.getElementById("layout-menu")&&document.getElementById("layout-menu").classList.contains("menu-vertical")&&g.switchMenu("horizontal")},100))},!0),!(y||window.Helpers.isSmallScreen())&&(typeof TemplateCustomizer<"u"&&(window.templateCustomizer.settings.defaultMenuCollapsed?window.Helpers.setCollapsed(!0,!1):window.Helpers.setCollapsed(!1,!1)),typeof config<"u"&&config.enableMenuLocalStorage))try{localStorage.getItem("templateCustomizer-"+templateName+"--LayoutCollapsed")!==null&&window.Helpers.setCollapsed(localStorage.getItem("templateCustomizer-"+templateName+"--LayoutCollapsed")==="true",!1)}catch{}})();typeof $<"u"&&$(function(){window.Helpers.initSidebarToggle();var v=$(".search-toggler"),a=$(".search-input-wrapper"),i=$(".search-input"),m=$(".content-backdrop");if(v.length&&v.on("click",function(){a.length&&(a.toggleClass("d-none"),i.focus())}),$(document).on("keydown",function(s){let o=s.ctrlKey,t=s.which===191;o&&t&&a.length&&(a.toggleClass("d-none"),i.focus())}),setTimeout(function(){var s=$(".twitter-typeahead");i.on("focus",function(){a.hasClass("container-xxl")?(a.find(s).addClass("container-xxl"),s.removeClass("container-fluid")):a.hasClass("container-fluid")&&(a.find(s).addClass("container-fluid"),s.removeClass("container-xxl"))})},10),i.length){var f=function(s){return function(t,d){let n;n=[],s.filter(function(u){if(u.name.toLowerCase().startsWith(t.toLowerCase()))n.push(u);else if(!u.name.toLowerCase().startsWith(t.toLowerCase())&&u.name.toLowerCase().includes(t.toLowerCase()))n.push(u),n.sort(function(b,h){return h.name<b.name?1:-1});else return[]}),d(n)}};$("#layout-menu").hasClass("menu-horizontal");var p=$.ajax({url:route("system-data"),dataType:"json",async:!1}).responseJSON;i.each(function(){var s=$(this);i.typeahead({hint:!1,classNames:{menu:"tt-menu navbar-search-suggestion",cursor:"active",suggestion:"suggestion d-flex justify-content-between px-3 py-2 w-100"}},{name:"pages",display:"name",limit:5,source:f(p.pages),templates:{header:'<h6 class="suggestions-header text-primary mb-0 mx-3 mt-3 pb-2">Pages</h6>',suggestion:function({url:o,icon:t,name:d}){return'<a href="'+baseUrl+o+'"><div><i class="ti '+t+' me-2"></i><span class="align-middle">'+d+"</span></div></a>"},notFound:'<div class="not-found px-3 py-2"><h6 class="suggestions-header text-primary mb-2">Pages</h6><p class="py-2 mb-0"><i class="ti ti-alert-circle ti-xs me-2"></i> No Results Found</p></div>'}},{name:"files",display:"name",limit:4,source:f(p.files),templates:{header:'<h6 class="suggestions-header text-primary mb-0 mx-3 mt-3 pb-2">Files</h6>',suggestion:function({src:o,name:t,subtitle:d,meta:n}){return'<a target="_blank" href="'+o+'"><div class="d-flex w-50"><img class="me-3" src="'+o+'" alt="'+t+'" height="32"><div class="w-75"><h6 class="mb-0">'+t+'</h6><small class="text-muted">'+d+'</small></div></div><small class="text-muted">'+n+"</small></a>"},notFound:'<div class="not-found px-3 py-2"><h6 class="suggestions-header text-primary mb-2">Files</h6><p class="py-2 mb-0"><i class="ti ti-alert-circle ti-xs me-2"></i> No Results Found</p></div>'}},{name:"members",display:"name",limit:4,source:f(p.members),templates:{header:'<h6 class="suggestions-header text-primary mb-0 mx-3 mt-3 pb-2">Members</h6>',suggestion:function({name:o,src:t,subtitle:d,url:n}){return'<a href="'+n+'"><div class="d-flex align-items-center"><img class="rounded-circle me-3" src="'+t+'" alt="'+o+'" height="32"><div class="user-info"><h6 class="mb-0">'+o+'</h6><small class="text-muted">'+d+"</small></div></div></a>"},notFound:'<div class="not-found px-3 py-2"><h6 class="suggestions-header text-primary mb-2">Members</h6><p class="py-2 mb-0"><i class="ti ti-alert-circle ti-xs me-2"></i> No Results Found</p></div>'}}).bind("typeahead:render",function(){m.addClass("show").removeClass("fade")}).bind("typeahead:select",function(o,t){t.url!=="javascript:;"&&(window.location=baseUrl+t.url)}).bind("typeahead:close",function(){i.val(""),s.typeahead("val",""),a.addClass("d-none"),m.addClass("fade").removeClass("show")}),i.on("keyup",function(){i.val()==""&&m.addClass("fade").removeClass("show")})});var w;$(".navbar-search-suggestion").each(function(){w=new PerfectScrollbar($(this)[0],{wheelPropagation:!1,suppressScrollX:!0})}),i.on("keyup",function(){w.update()})}});
